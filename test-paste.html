<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown 粘贴测试</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-content {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #007acc;
        }
        .instructions {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Consolas', monospace;
        }
    </style>
</head>
<body>
    <h1>🧪 Markdown 粘贴功能测试</h1>
    
    <div class="instructions">
        <h3>📋 测试步骤：</h3>
        <ol>
            <li>确保应用在 <code>http://localhost:5174/</code> 运行</li>
            <li>复制下面任意一段测试内容</li>
            <li>在编辑器中粘贴 (Ctrl+V 或 Cmd+V)</li>
            <li>打开浏览器开发者工具查看控制台日志</li>
            <li>观察内容是否自动渲染为格式化文本</li>
        </ol>
    </div>

    <h2>🧪 测试内容 1 - 基本语法</h2>
    <div class="test-content">
        <strong>复制以下内容：</strong><br><br>
        <code>
# 这是一个标题<br><br>
这是一段普通文本，包含 **粗体** 和 *斜体* 文字。<br><br>
## 二级标题<br><br>
- 无序列表项 1<br>
- 无序列表项 2<br>
- 无序列表项 3<br><br>
1. 有序列表项 1<br>
2. 有序列表项 2<br>
3. 有序列表项 3<br><br>
> 这是一个引用块<br>
> 可以包含多行内容<br><br>
`这是行内代码`
        </code>
    </div>

    <h2>🧪 测试内容 2 - 代码块</h2>
    <div class="test-content">
        <strong>复制以下内容：</strong><br><br>
        <code>
# 代码示例<br><br>
```javascript<br>
function hello() {<br>
&nbsp;&nbsp;console.log("Hello World!");<br>
}<br>
```<br><br>
这是一个 `行内代码` 示例。
        </code>
    </div>

    <h2>🧪 测试内容 3 - 链接和分割线</h2>
    <div class="test-content">
        <strong>复制以下内容：</strong><br><br>
        <code>
# 链接测试<br><br>
[这是一个链接](https://example.com)<br><br>
---<br><br>
## 分割线上方<br>
这是分割线下方的内容。
        </code>
    </div>

    <h2>🧪 测试内容 4 - 普通文本（应该不被处理）</h2>
    <div class="test-content">
        <strong>复制以下内容（应该按普通文本粘贴）：</strong><br><br>
        <code>
这是普通文本，没有任何 markdown 语法。<br>
应该按照普通文本粘贴，不进行特殊处理。
        </code>
    </div>

    <div class="instructions">
        <h3>🔍 预期结果：</h3>
        <ul>
            <li><strong>测试内容 1-3</strong>：应该自动渲染为格式化内容</li>
            <li><strong>测试内容 4</strong>：应该按普通文本粘贴</li>
            <li><strong>控制台日志</strong>：应该显示检测和转换过程</li>
        </ul>
        
        <h3>🐛 故障排除：</h3>
        <ul>
            <li>如果没有效果，检查浏览器控制台是否有错误</li>
            <li>确认粘贴的内容完全匹配测试内容</li>
            <li>尝试刷新页面重新测试</li>
        </ul>
    </div>

    <script>
        // 添加复制功能
        document.querySelectorAll('.test-content code').forEach(code => {
            code.style.cursor = 'pointer';
            code.title = '点击复制到剪贴板';
            code.addEventListener('click', () => {
                const text = code.innerText.replace(/<br>/g, '\n').replace(/&nbsp;/g, ' ');
                navigator.clipboard.writeText(text).then(() => {
                    const originalBg = code.style.backgroundColor;
                    code.style.backgroundColor = '#d4edda';
                    setTimeout(() => {
                        code.style.backgroundColor = originalBg;
                    }, 500);
                });
            });
        });
    </script>
</body>
</html>
